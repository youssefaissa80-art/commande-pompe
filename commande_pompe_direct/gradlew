#!/usr/bin/env sh
DIR="$(cd "$(dirname "$0")" && pwd)"
JAVA_EXE=java
$JAVA_EXE -version >/dev/null 2>&1 || { echo "Java is required to run Gradle"; exit 1; }
if [ ! -f "$DIR/gradle/wrapper/gradle-wrapper.jar" ]; then
  echo "gradle-wrapper.jar missing; fetching Gradle 7.6.1 and generating wrapper..."
  if command -v wget >/dev/null 2>&1; then DL="wget -q -O"; else DL="curl -sSL -o"; fi
  $DL "$DIR/gradle-7.6.1-bin.zip" "https://services.gradle.org/distributions/gradle-7.6.1-bin.zip" || exit 1
  unzip -q "$DIR/gradle-7.6.1-bin.zip" -d "$DIR" || exit 1
  "$DIR/gradle-7.6.1/bin/gradle" wrapper --gradle-version 7.6.1 || exit 1
fi
exec "$JAVA_EXE" -jar "$DIR/gradle/wrapper/gradle-wrapper.jar" "$@"